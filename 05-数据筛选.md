# 05-数据筛选

## 简单选取

```python
# 简选选取行与列
df[1:] #选取第二行至末尾
df[1:3] #选取第二、第三行
df[['id','age']] #选取id和age列


# 根据标签选取数据-loc
df.loc[3] #选取第四行
df.loc[:3] #选取开头至第四行(含)
df.loc[:, 'city':] #选取city(含)之后的所有列


# 根据位置选取数据-iloc
df.iloc[:3,:3]
df.iloc[[0,2,5],[4,5]]


# 根据标签和位置混合提取数据-ix
df = df.set_index('date')
df.ix[:'2013-01-04',:4]
```



## 根据是非条件选取

```python
# 常用判断条件
# 判断city列的值是否为beijing
df['city'].isin(['beijing'])

# 判断city中是否包含某个字符
df['city'].str.contains('sh')



# 筛选列值为字符串的所有列
df.loc[:, df.dtypes == 'O']


# 先判断city列里是否包含beijing和shanghai，然后将复合条件的数据提取出来
df.loc[df['city'].isin(['beijing','shanghai'])]
df[-df['city'].isin(['beijing','shanghai'])]

# 提取前三个字符，并生成数据表
category = df['category']
pd.DataFrame(category.str[:3])



# 删除某一列为缺失的所有行
df.loc[~df['price'].isna()]
```

